"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[15,592],{2015:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var n=s(5043),i=s(3216),r=s(5475),o=s(9304),a=s(2592),l=s(6485),c=s(6820),d=s(4204),x=s(912),h=s(5563),g=s(9252),u=s(8185),A=s(8903),j=s(7353),m=s(4496),p=s(1906),f=s(2698),y=s(8911),b=s(6682),v=s(3766),w=s(6605),_=s(710),W=s(1045),S=s(9336),C=s(2110),I=s(6591),z=s(6494),k=s(8257),D=s(2607),N=s(4331),B=s(8638),E=s(8293),R=s(3669),M=s(9029),F=s(1665),G=s(5244),H=s(7466),O=s(2551),U=s(579);const L=()=>{const{courseId:e}=(0,i.g)(),{updateCartCount:t}=(0,x._)(),{updateWishlistCount:s}=(0,h.n)(),[L,P]=(0,n.useState)(null),[T,Z]=(0,n.useState)([]),[q]=(0,c.A)(),[J,K]=(0,n.useState)(!0),[Q,V]=(0,n.useState)(!1),[X,Y]=(0,n.useState)(!1),$=(0,i.Zp)();(0,n.useEffect)((()=>{window.scrollTo(0,0);(async()=>{K(!0);try{var n;const o=await d.A.get("/api/courses/".concat(e));P(o.data);const a=null===q||void 0===q?void 0:q.token,l=a?{Authorization:"Bearer ".concat(a)}:{};try{const t=await d.A.get("api/content/enrolled/".concat(e),{headers:l});Z(t.data.length?t.data:[])}catch(i){console.warn("Could not fetch full content (likely not enrolled)",i),Z([])}if(null!==q&&void 0!==q&&null!==(n=q.user)&&void 0!==n&&n.user_id){const n=q.user.user_id;try{const t=(await d.A.get("/api/enrollments/user/".concat(n),{headers:l})).data.map((e=>e.course_id));V(t.includes(Number(e)))}catch(r){console.error("Enrollment check failed",r)}try{const e=await d.A.get("/api/cart/count/".concat(n));t(e.data.count||0);const i=await d.A.get("/api/wishlist/count/".concat(n));s(i.data.wishlist_count||0)}catch(r){console.error("Count fetch failed",r)}}}catch(o){console.error("Error loading course page:",o),P(null)}finally{K(!1)}})()}),[e,q,t,s]);const ee=()=>(0,U.jsxs)(g.A,{maxWidth:"lg",sx:{py:4},children:[(0,U.jsx)(u.A,{variant:"rectangular",height:300,sx:{mb:4,borderRadius:2}}),(0,U.jsxs)(A.Ay,{container:!0,spacing:4,children:[(0,U.jsxs)(A.Ay,{item:!0,xs:12,md:8,children:[(0,U.jsx)(u.A,{height:40,width:"60%",sx:{mb:2}}),(0,U.jsx)(u.A,{height:20,width:"100%",sx:{mb:1}}),(0,U.jsx)(u.A,{height:20,width:"100%",sx:{mb:1}}),(0,U.jsx)(u.A,{height:20,width:"80%",sx:{mb:4}})]}),(0,U.jsx)(A.Ay,{item:!0,xs:12,md:4,children:(0,U.jsx)(u.A,{variant:"rectangular",height:400,sx:{borderRadius:2}})})]})]});return J?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(o.A,{}),(0,U.jsx)(ee,{}),(0,U.jsx)(l.A,{})]}):L?(0,U.jsxs)(j.A,{sx:{bgcolor:"#f5f7fa",minHeight:"100vh"},children:[(0,U.jsx)(o.A,{}),(0,U.jsx)(j.A,{sx:{bgcolor:"#1c1d1f",color:"#fff",py:{xs:4,md:6}},children:(0,U.jsxs)(g.A,{maxWidth:"xl",children:[(0,U.jsxs)(f.A,{separator:(0,U.jsx)(k.A,{fontSize:"small",sx:{color:"#aaa"}}),"aria-label":"breadcrumb",sx:{mb:3,color:"#ddd"},children:[(0,U.jsx)(r.N_,{to:"/",style:{color:"#ccc",textDecoration:"none"},children:"Home"}),(0,U.jsx)(r.N_,{to:"/category/".concat(L.category_id||1),style:{color:"#ccc",textDecoration:"none"},children:L.category_name||"Development"}),(0,U.jsx)(m.A,{color:"white",children:L.title})]}),(0,U.jsx)(A.Ay,{container:!0,spacing:4,children:(0,U.jsxs)(A.Ay,{item:!0,xs:12,md:8,children:[(0,U.jsx)(m.A,{variant:"h3",fontWeight:"800",sx:{mb:2,fontSize:{xs:"2rem",md:"2.5rem"}},children:L.title}),(0,U.jsx)(m.A,{variant:"h6",sx:{mb:3,opacity:.9,fontWeight:400,lineHeight:1.6},children:L.description&&L.description.length>200?L.description.substring(0,200)+"...":L.description}),(0,U.jsxs)(y.A,{direction:{xs:"column",sm:"row"},spacing:3,alignItems:{xs:"flex-start",sm:"center"},sx:{mb:3},children:[L.average_rating&&(0,U.jsxs)(j.A,{display:"flex",alignItems:"center",gap:.5,children:[(0,U.jsx)(m.A,{fontWeight:"bold",color:"#fab005",children:Number(L.average_rating).toFixed(1)}),(0,U.jsx)(b.A,{value:Number(L.average_rating),precision:.5,readOnly:!0,size:"small"}),(0,U.jsx)(m.A,{variant:"caption",sx:{color:"#a1a7b3",textDecoration:"underline"},children:"(1,234 ratings)"})]}),(0,U.jsxs)(j.A,{display:"flex",alignItems:"center",gap:1,children:[(0,U.jsx)(D.A,{fontSize:"small"}),(0,U.jsxs)(m.A,{variant:"body2",children:[L.enrollment_count||0," students"]})]}),(0,U.jsxs)(j.A,{display:"flex",alignItems:"center",gap:1,children:[(0,U.jsx)(N.A,{fontSize:"small"}),(0,U.jsx)(m.A,{variant:"body2",children:L.language||"English"})]})]}),(0,U.jsxs)(j.A,{display:"flex",alignItems:"center",gap:2,children:[(0,U.jsx)(m.A,{variant:"body2",children:"Created by"}),(0,U.jsx)(r.N_,{to:"#",style:{color:"#a435f0",fontWeight:"bold",textDecoration:"none"},children:L.instructor_name})]})]})})]})}),(0,U.jsx)(g.A,{maxWidth:"xl",sx:{py:4},children:(0,U.jsxs)(A.Ay,{container:!0,spacing:4,children:[(0,U.jsxs)(A.Ay,{item:!0,xs:12,md:8,children:[(0,U.jsxs)(j.A,{sx:{border:"1px solid #d1d7dc",p:3,mb:4,bgcolor:"#fff",borderRadius:1},children:[(0,U.jsx)(m.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"What you'll learn"}),(0,U.jsx)(A.Ay,{container:!0,spacing:2,children:[1,2,3,4].map((e=>(0,U.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,U.jsxs)(j.A,{display:"flex",gap:1.5,alignItems:"flex-start",children:[(0,U.jsx)(B.A,{sx:{fontSize:20,color:"#2d2f31",mt:.3}}),(0,U.jsx)(m.A,{variant:"body2",color:"#2d2f31",children:"Master the core concepts of the subject."})]})},e)))})]}),(0,U.jsxs)(j.A,{sx:{mb:4},children:[(0,U.jsx)(m.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Course Content"}),(0,U.jsxs)(m.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[T.length," sections \u2022 ",5*T.length," lectures \u2022 12h 30m total length"]}),T.length>0?T.map(((e,t)=>(0,U.jsxs)(v.A,{disableGutters:!0,elevation:0,sx:{border:"1px solid #d1d7dc","&:not(:last-child)":{borderBottom:0}},children:[(0,U.jsx)(w.A,{expandIcon:(0,U.jsx)(E.A,{}),sx:{bgcolor:"#f7f9fa"},children:(0,U.jsx)(j.A,{display:"flex",alignItems:"center",gap:1,children:(0,U.jsx)(m.A,{fontWeight:"bold",sx:{fontSize:"0.95rem"},children:e.title})})}),(0,U.jsx)(_.A,{children:(0,U.jsxs)(y.A,{spacing:1,children:[(0,U.jsxs)(j.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,U.jsxs)(j.A,{display:"flex",gap:1,alignItems:"center",children:[(0,U.jsx)(R.A,{fontSize:"small",color:"action"}),(0,U.jsxs)(m.A,{variant:"body2",children:["Introduction to ",e.title]})]}),(0,U.jsx)(m.A,{variant:"caption",color:"text.secondary",children:"05:30"})]}),(0,U.jsxs)(j.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,U.jsxs)(j.A,{display:"flex",gap:1,alignItems:"center",children:[(0,U.jsx)(R.A,{fontSize:"small",color:"action"}),(0,U.jsx)(m.A,{variant:"body2",children:"Deep Dive"})]}),(0,U.jsx)(m.A,{variant:"caption",color:"text.secondary",children:"10:15"})]})]})})]},e.content_id))):(0,U.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"No content previews available."})]}),(0,U.jsxs)(j.A,{sx:{mb:4},children:[(0,U.jsx)(m.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Description"}),(0,U.jsx)(m.A,{variant:"body1",sx:{whiteSpace:"pre-line",color:"#2d2f31",lineHeight:1.6},children:L.description||"No description available for this course."})]}),(0,U.jsxs)(j.A,{sx:{mb:4},children:[(0,U.jsx)(m.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Instructor"}),(0,U.jsx)(r.N_,{to:"#",style:{textDecoration:"none",color:"#0056d2"},children:(0,U.jsx)(m.A,{variant:"h6",color:"primary",fontWeight:"bold",sx:{textDecoration:"underline"},children:L.instructor_name})}),(0,U.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Senior Developer & Instructor"}),(0,U.jsxs)(y.A,{direction:"row",spacing:2,alignItems:"center",mb:2,children:[(0,U.jsx)(W.A,{sx:{width:80,height:80},src:"https://i.pravatar.cc/150?img=12"}),(0,U.jsxs)(y.A,{spacing:.5,children:[(0,U.jsxs)(j.A,{display:"flex",gap:1,alignItems:"center",children:[(0,U.jsx)(M.A,{fontSize:"small"}),(0,U.jsx)(m.A,{variant:"body2",children:"4.7 Instructor Rating"})]}),(0,U.jsxs)(j.A,{display:"flex",gap:1,alignItems:"center",children:[(0,U.jsx)(F.A,{fontSize:"small"}),(0,U.jsx)(m.A,{variant:"body2",children:"10,000+ Reviews"})]}),(0,U.jsxs)(j.A,{display:"flex",gap:1,alignItems:"center",children:[(0,U.jsx)(R.A,{fontSize:"small"}),(0,U.jsx)(m.A,{variant:"body2",children:"5 Courses"})]})]})]})]}),(0,U.jsx)(S.A,{sx:{my:4}}),(0,U.jsx)(a.default,{})]}),(0,U.jsx)(A.Ay,{item:!0,xs:12,md:4,children:(0,U.jsx)(j.A,{sx:{position:{md:"sticky"},top:100,zIndex:10},children:(0,U.jsxs)(C.A,{sx:{boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"1px solid #d1d7dc",overflow:"hidden"},children:[(0,U.jsx)(I.A,{component:"img",height:"200",image:L.image_url||"https://source.unsplash.com/random?coding",alt:L.title,sx:{p:.5,borderRadius:2}}),(0,U.jsxs)(z.A,{children:[(0,U.jsxs)(m.A,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:["\u20b9",L.discount_price||499]}),Q?(0,U.jsx)(p.A,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>{$("/courses-content/".concat(e),{state:{courseName:null===L||void 0===L?void 0:L.title}})},sx:{bgcolor:"#2d2f31",color:"#fff",fontWeight:"bold",py:1.5,mb:2,"&:hover":{bgcolor:"#000"}},children:"Go to Course"}):(0,U.jsxs)(y.A,{spacing:1,sx:{mb:2},children:[(0,U.jsx)(p.A,{variant:"contained",fullWidth:!0,size:"large",onClick:async()=>{var s;if(null===q||void 0===q||null===(s=q.user)||void 0===s||!s.user_id)return alert("Please log in to add to cart."),void $("/login");try{await d.A.post("/api/cart",{user_id:q.user.user_id,course_id:e});const s=await d.A.get("/api/cart/count/".concat(q.user.user_id));t(s.data.count||0),alert("Added to cart!")}catch(r){var n,i;alert((null===(n=r.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Could not add to cart")}},sx:{bgcolor:"#a435f0",color:"#fff",fontWeight:"bold",py:1.5,"&:hover":{bgcolor:"#8710d8"}},children:"Add to Cart"}),(0,U.jsx)(p.A,{variant:"outlined",fullWidth:!0,size:"large",onClick:async()=>{var t;if(null===q||void 0===q||null===(t=q.user)||void 0===t||!t.user_id)return alert("Please log in to add to wishlist."),void $("/login");try{await d.A.post("/api/wishlist",{user_id:q.user.user_id,course_id:e}),Y(!0);const t=await d.A.get("/api/wishlist/count/".concat(q.user.user_id));s(t.data.wishlist_count||0),alert("Added to wishlist!")}catch(r){var n,i;alert((null===(n=r.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Could not add to wishlist")}},startIcon:X?(0,U.jsx)(G.A,{}):(0,U.jsx)(H.A,{}),sx:{borderColor:"#2d2f31",color:"#2d2f31",fontWeight:"bold",py:1.5,"&:hover":{bgcolor:"rgba(0,0,0,0.05)"}},children:X?"In Wishlist":"Add to Wishlist"}),(0,U.jsx)(p.A,{variant:"outlined",fullWidth:!0,size:"large",sx:{borderColor:"#2d2f31",color:"#2d2f31",fontWeight:"bold",py:1.5},children:"Buy Now"})]}),(0,U.jsx)(m.A,{variant:"caption",display:"block",textAlign:"center",sx:{mb:2},children:"30-Day Money-Back Guarantee"}),(0,U.jsx)(m.A,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"This course includes:"}),(0,U.jsxs)(y.A,{spacing:1,children:[(0,U.jsxs)(j.A,{display:"flex",gap:1.5,alignItems:"center",children:[(0,U.jsx)(R.A,{fontSize:"small",sx:{color:"#2d2f31"}}),(0,U.jsx)(m.A,{variant:"body2",children:"12.5 hours on-demand video"})]}),(0,U.jsxs)(j.A,{display:"flex",gap:1.5,alignItems:"center",children:[(0,U.jsx)(O.A,{fontSize:"small",sx:{color:"#2d2f31"}}),(0,U.jsx)(m.A,{variant:"body2",children:"Full lifetime access"})]}),(0,U.jsxs)(j.A,{display:"flex",gap:1.5,alignItems:"center",children:[(0,U.jsx)(F.A,{fontSize:"small",sx:{color:"#2d2f31"}}),(0,U.jsx)(m.A,{variant:"body2",children:"Certificate of completion"})]})]})]})]})})})]})}),(0,U.jsx)(l.A,{})]}):(0,U.jsxs)(j.A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,U.jsx)(o.A,{}),(0,U.jsxs)(g.A,{sx:{py:10,textAlign:"center",flexGrow:1},children:[(0,U.jsx)(m.A,{variant:"h4",gutterBottom:!0,children:"Course not found"}),(0,U.jsxs)(m.A,{color:"text.secondary",children:["We couldn't find the course with ID: ",(0,U.jsx)("strong",{children:e})]}),(0,U.jsx)(p.A,{variant:"contained",onClick:()=>$("/"),sx:{mt:3},children:"Go Home"})]}),(0,U.jsx)(l.A,{})]})}},2592:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var n=s(5043),i=s(4204),r=s(3216),o=s(4496),a=s(7353),l=s(8903),c=s(6682),d=s(8911),x=s(611),h=s(9336),g=s(1045),u=s(9135),A=s(6230),j=s(3326),m=s(9343),p=s(6232),f=s(2281),y=s(579);const b=()=>{const{courseId:e}=(0,r.g)(),[t,s]=(0,n.useState)([]),[b,v]=(0,n.useState)(1),[w,_]=(0,n.useState)(!0),[W,S]=(0,n.useState)(null),[C,I]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async()=>{try{const t=await i.A.get("/api/reviews/course/".concat(e));Array.isArray(t.data)?(s(t.data),S(null)):s([])}catch(W){W.response&&404===W.response.status?s([]):console.error("Error fetching reviews:",W)}finally{_(!1)}})()}),[e]);const z=t.length,k=z>0?(t.reduce(((e,t)=>e+t.rating),0)/z).toFixed(1):0,D={5:0,4:0,3:0,2:0,1:0};t.forEach((e=>{void 0!==D[e.rating]&&D[e.rating]++}));const N=C?t.filter((e=>e.rating===C)):t,B=Math.ceil(N.length/5),E=N.slice(5*(b-1),5*b),R=e=>{const t=[A.A[500],j.A[500],m.A[500],p.A[500],f.A[500]];let s=0;for(let n=0;n<e.length;n++)s=e.charCodeAt(n)+((s<<5)-s);return t[Math.abs(s)%t.length]};return w?(0,y.jsx)(o.A,{sx:{py:4},children:"Loading reviews..."}):(0,y.jsxs)(a.A,{id:"reviews",sx:{py:4},children:[(0,y.jsx)(o.A,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Student Feedback"}),(0,y.jsxs)(l.Ay,{container:!0,spacing:6,children:[(0,y.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(a.A,{sx:{p:0},children:[(0,y.jsxs)(o.A,{variant:"h2",fontWeight:"800",color:"#b4690e",sx:{display:"flex",alignItems:"center",gap:1},children:[k,(0,y.jsx)(o.A,{variant:"caption",sx:{fontSize:"1rem",color:"text.secondary",fontWeight:400},children:"course rating"})]}),(0,y.jsx)(c.A,{value:Number(k),precision:.1,readOnly:!0,size:"medium",sx:{mb:2}}),(0,y.jsx)(d.A,{spacing:1,children:[5,4,3,2,1].map((e=>{const t=D[e],s=z>0?t/z*100:0;return(0,y.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:2,cursor:"pointer",opacity:C&&C!==e?.4:1,"&:hover":{opacity:.8}},onClick:()=>I(C===e?null:e),children:[(0,y.jsx)(x.A,{variant:"determinate",value:s,sx:{height:8,borderRadius:4,flexGrow:1,bgcolor:"#e0e0e0","& .MuiLinearProgress-bar":{bgcolor:"#8a8a8a"}}}),(0,y.jsx)(c.A,{value:e,count:5,readOnly:!0,size:"small",sx:{display:"none"}})," ",(0,y.jsxs)(a.A,{display:"flex",minWidth:80,justifyContent:"space-between",children:[(0,y.jsx)(c.A,{value:e,max:5,readOnly:!0,size:"small",sx:{fontSize:"1rem",color:"#b4690e","& .MuiRating-iconEmpty":{display:"none"}}}),(0,y.jsxs)(o.A,{variant:"body2",color:"text.secondary",sx:{ml:1,minWidth:"30px",textAlign:"right"},children:[Math.round(s),"%"]})]})]},e)}))}),C&&(0,y.jsxs)(o.A,{variant:"body2",color:"primary",sx:{mt:2,cursor:"pointer",fontWeight:"bold"},onClick:()=>I(null),children:["Clear Filter (Showing ",C," stars)"]})]})}),(0,y.jsx)(l.Ay,{item:!0,xs:12,md:8,children:E.length>0?(0,y.jsxs)(d.A,{spacing:3,children:[E.map((e=>{return(0,y.jsxs)(a.A,{children:[(0,y.jsx)(h.A,{sx:{mb:3}}),(0,y.jsxs)(a.A,{display:"flex",gap:2,children:[(0,y.jsx)(g.A,{sx:{bgcolor:R(e.user_name||"U"),width:48,height:48,fontSize:"1.2rem"},children:(e.user_name||"A").charAt(0).toUpperCase()}),(0,y.jsxs)(a.A,{children:[(0,y.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:e.user_name||"Anonymous User"}),(0,y.jsxs)(d.A,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,y.jsx)(c.A,{value:e.rating,readOnly:!0,size:"small",sx:{color:"#b4690e"}}),(0,y.jsx)(o.A,{variant:"body2",color:"text.secondary",children:(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]}),(0,y.jsx)(o.A,{variant:"body1",color:"#2d2f31",children:e.comment})]})]})]},e.review_id);var t})),B>1&&(0,y.jsx)(a.A,{display:"flex",justifyContent:"center",mt:4,children:(0,y.jsx)(u.A,{count:B,page:b,onChange:(e,t)=>{v(t)},color:"primary",shape:"rounded"})})]}):(0,y.jsx)(a.A,{sx:{py:4,textAlign:"center"},children:(0,y.jsxs)(o.A,{variant:"h6",color:"text.secondary",children:["No reviews found ",C?"for ".concat(C," stars"):"yet","."]})})})]})]})}}}]);
//# sourceMappingURL=15.f6bc2a50.chunk.js.map