{"version":3,"file":"static/js/18.1992a047.chunk.js","mappings":"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","sources":["components/Student/CourseCard.js","components/Student/StudentDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axiosInstance from \"../../axiosconfig\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./student.css\";\r\n\r\nconst CourseCard = ({ course, userId }) => {\r\n  const [enrollmentCount, setEnrollmentCount] = useState(0);\r\n  const [rating, setRating] = useState(0); \r\n  const [comment, setComment] = useState(\"\"); \r\n \r\n  // const [reviewSubmitted, setReviewSubmitted] = useState(false);\r\n  const [existingReview, setExistingReview] = useState(null); \r\n\r\n  useEffect(() => {\r\n    const fetchEnrollmentCount = async () => {\r\n      try {\r\n        const response = await axiosInstance.get(\r\n          `/api/courses/${course.course_id}/enrollment-count`\r\n        );\r\n        setEnrollmentCount(response.data.enrollmentCount);\r\n      } catch (err) {\r\n        console.error(\"Error fetching enrollment count:\", err);\r\n      }\r\n    };\r\n\r\n    const fetchExistingReview = async () => {\r\n      try {\r\n        const response = await axiosInstance.get(\r\n          `/api/reviews/course/${course.course_id}/user/${userId}`\r\n        );\r\n        if (response.data.length > 0) {\r\n          setExistingReview(response.data[0]); \r\n          // setReviewSubmitted(true); \r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching existing review:\", err);\r\n      }\r\n    };\r\n\r\n    fetchEnrollmentCount();\r\n    fetchExistingReview();\r\n  }, [course.course_id, userId]);\r\n\r\n  const handleReviewSubmit = async (e) => {\r\n    e.preventDefault(); \r\n    try {\r\n      await axiosInstance.post(\"/api/reviews\", {\r\n        user_id: userId,\r\n        course_id: course.course_id,\r\n        rating,\r\n        comment,\r\n      });\r\n      \r\n      // setReviewSubmitted(true); \r\n      setExistingReview({ rating, comment }); \r\n    } catch (err) {\r\n      console.error(\"Error submitting review:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"course-card enrollment-card\">\r\n      <Link\r\n        key={course.enrollment_id}\r\n        to={`/courses/${course.course_id}`} \r\n        className=\"enrollment-card-link\"\r\n        style={{ textDecoration: \"none\", color: \"inherit\" }}\r\n      >\r\n        <img\r\n          src={course.image_url}\r\n          alt={course.title}\r\n          className=\"course-image\"\r\n        />\r\n        <h4>{course.title.length > 24 ? `${course.title.substring(0, 24)}...` : course.title}</h4>\r\n        <p>Enrollments: {enrollmentCount}</p>\r\n        <button>Go to Course</button>\r\n      </Link>\r\n   \r\n      {existingReview ? (\r\n          <></>\r\n      ) : (\r\n        <form onSubmit={handleReviewSubmit} className=\"review-form\">\r\n          <label>\r\n            Rating:\r\n            <select\r\n              value={rating}\r\n              onChange={(e) => setRating(Number(e.target.value))}\r\n            >\r\n              <option value={0}>Select Rating</option>\r\n              {[1, 2, 3, 4, 5].map((rate) => (\r\n                <option key={rate} value={rate}>\r\n                  {rate}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </label>\r\n          <label>\r\n            Comment:\r\n            <textarea\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              placeholder=\"Leave a comment\"\r\n            />\r\n          </label>\r\n          <button type=\"submit\">Submit Review</button>\r\n        </form>\r\n      )}\r\n      {/* {reviewSubmitted && <p>Review submitted successfully!</p>} Show success message */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseCard;\r\n","import React, { useEffect, useState } from 'react';\r\nimport CourseCard from './CourseCard.js';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../../Context/auth';\r\nimport Navbar from '../Home/NavBar.js';\r\nimport \"./student.css\"\r\nimport Footer from '../Home/Footer.js';\r\nimport noContent from './we.png';\r\n\r\nconst StudentDashboard = () => {\r\n  const [auth] = useAuth();\r\n  const [courses, setCourses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const userId = auth?.user?.user_id;\r\n\r\n  useEffect(() => {\r\n    const fetchEnrolledCourses = async () => {\r\n      if (!userId) return;\r\n\r\n      try {\r\n        const token = auth?.token; \r\n\r\n        const response = await axios.get(`http://localhost:8080/api/enrollments/user/${userId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, \r\n          },\r\n        });\r\n        setCourses(response.data);\r\n      } catch (err) {\r\n        console.error('Error fetching enrolled courses:', err);\r\n        setError('Error fetching enrolled courses');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchEnrolledCourses();\r\n  }, [userId, auth]);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>{error}</p>;\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <div className='enrollment-courses-page'>\r\n      <h2>My Enrolled Courses</h2>\r\n      {courses.length === 0 ? (\r\n         <div className=\"no-content-student\">\r\n         <div>\r\n           <img src={noContent} style={{width:\"300px\",height:\"200px\",position:\"relative\",right:\"50px\"}} alt=\"No content available\" />\r\n         <p>You are not enrolled in any course.</p>\r\n         </div>\r\n         </div>\r\n      ) : (\r\n        <div className=\"course-list\">\r\n          {courses.map((course) => (\r\n            <CourseCard \r\n              key={course.enrollment_id} \r\n              course={course} \r\n              userId={userId} \r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StudentDashboard;\r\n"],"names":["_ref","course","userId","enrollmentCount","setEnrollmentCount","useState","rating","setRating","comment","setComment","existingReview","setExistingReview","useEffect","async","response","axiosInstance","get","concat","course_id","data","err","console","error","fetchEnrollmentCount","length","fetchExistingReview","_jsxs","className","children","Link","to","style","textDecoration","color","_jsx","src","image_url","alt","title","substring","enrollment_id","_Fragment","onSubmit","e","preventDefault","post","user_id","value","onChange","Number","target","map","rate","placeholder","type","StudentDashboard","_auth$user","auth","useAuth","courses","setCourses","loading","setLoading","setError","user","token","axios","headers","Authorization","fetchEnrolledCourses","Navbar","noContent","width","height","position","right","CourseCard","Footer"],"sourceRoot":""}