{"version":3,"file":"static/js/406.7e168a99.chunk.js","mappings":"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","sources":["components/Home/Wishlist.js","../node_modules/@mui/icons-material/esm/DeleteOutline.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../../Context/auth.js\";\r\nimport Navbar from \"./NavBar.js\";\r\nimport { useWishlist } from \"./WishlistContext.js\";\r\nimport { useCart } from \"./CartContext.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  IconButton,\r\n  Tooltip,\r\n  Skeleton\r\n} from \"@mui/material\";\r\nimport { \r\n  DeleteOutline, \r\n  ShoppingCartOutlined \r\n} from \"@mui/icons-material\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Wishlist = () => {\r\n  const { updateWishlistCount } = useWishlist();\r\n  const { updateCartCount } = useCart();\r\n  const [wishlistItems, setWishlistItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [auth] = useAuth(); // Use the useAuth hook to get user data\r\n\r\n  useEffect(() => {\r\n    const fetchWishlistItems = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const userId = auth?.user?.user_id;\r\n        const token = auth?.token;\r\n\r\n        if (!userId) return;\r\n\r\n        const response = await axios.get(\r\n          `http://localhost:8080/api/wishlist/user/${userId}`,\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n\r\n        if (Array.isArray(response.data)) {\r\n          setWishlistItems(response.data);\r\n        } else {\r\n          setWishlistItems([]);\r\n        }\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 404) {\r\n             setWishlistItems([]);\r\n        } else {\r\n             console.error(\"Error fetching wishlist items:\", error);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (auth && auth.user) {\r\n      fetchWishlistItems();\r\n    }\r\n  }, [auth]);\r\n\r\n  const handleRemoveFromWishlist = async (wishlistItemId) => {\r\n    try {\r\n      const token = auth?.token;\r\n      await axios.delete(\r\n        `http://localhost:8080/api/wishlist/user/${wishlistItemId}`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      const updatedWishlistItems = wishlistItems.filter((item) => item.wishlist_id !== wishlistItemId);\r\n      setWishlistItems(updatedWishlistItems);\r\n      \r\n      const userId = auth?.user?.user_id;\r\n      const res = await axios.get(`http://localhost:8080/api/wishlist/count/${userId}`);\r\n      updateWishlistCount(res.data.wishlist_count || 0);\r\n\r\n    } catch (error) {\r\n      console.error(\"Error removing course from wishlist:\", error);\r\n    }\r\n  };\r\n\r\n  const handleMoveToCart = async (wishlistItem) => {\r\n    try {\r\n      const userId = auth?.user?.user_id;\r\n      const token = auth?.token;\r\n\r\n      await axios.post(\r\n        `http://localhost:8080/api/cart`,\r\n        { user_id: userId, course_id: wishlistItem.course_id },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      await handleRemoveFromWishlist(wishlistItem.wishlist_id);\r\n\r\n      const res = await axios.get(`http://localhost:8080/api/cart/count/${userId}`);\r\n      updateCartCount(res.data.count || 0);\r\n\r\n    } catch (error) {\r\n      console.error(\"Error moving course to cart:\", error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n      return (\r\n        <>\r\n            <Navbar />\r\n            <Container sx={{ py: 8 }}>\r\n                <Grid container spacing={3}>\r\n                    {[1,2,3,4].map(i => (\r\n                        <Grid item xs={12} sm={6} md={3} key={i}>\r\n                            <Skeleton variant=\"rectangular\" height={200} sx={{borderRadius: 2, mb: 1}} />\r\n                            <Skeleton width=\"80%\" />\r\n                            <Skeleton width=\"60%\" />\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            </Container>\r\n            <Footer />\r\n        </>\r\n      );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ bgcolor: \"#F7F9FA\", minHeight: \"100vh\", display: 'flex', flexDirection: 'column' }}>\r\n      <Navbar />\r\n      \r\n      <Container maxWidth=\"xl\" sx={{ py: 6, flexGrow: 1 }}>\r\n        <Typography variant=\"h4\" fontWeight=\"800\" sx={{ mb: 4 }}>My Wishlist</Typography>\r\n\r\n        {wishlistItems.length === 0 ? (\r\n           <Box sx={{ textAlign: 'center', py: 10, bgcolor: 'white', borderRadius: 4, boxShadow: \"0 4px 12px rgba(0,0,0,0.05)\" }}>\r\n                <Box sx={{ fontSize: '4rem', mb: 2 }}>❤️</Box>\r\n                <Typography variant=\"h5\" color=\"text.secondary\" gutterBottom>Your wishlist is empty.</Typography>\r\n                <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 4 }}>Explore more courses and save them for later!</Typography>\r\n                <Button variant=\"outlined\" component={Link} to=\"/\" sx={{ fontWeight: 'bold', border: '2px solid' }}>Browse Courses</Button>\r\n           </Box>\r\n        ) : (\r\n            <Grid container spacing={3}>\r\n                {wishlistItems.map((item) => (\r\n                    <Grid item xs={12} sm={6} md={4} lg={3} key={item.wishlist_id}>\r\n                        <Card sx={{ \r\n                            height: '100%', \r\n                            display: 'flex', \r\n                            flexDirection: 'column', \r\n                            borderRadius: 2,\r\n                            transition: 'all 0.3s ease',\r\n                            '&:hover': { transform: 'translateY(-4px)', boxShadow: '0 8px 24px rgba(0,0,0,0.1)' }\r\n                        }}>\r\n                            <Box sx={{ position: 'relative' }}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"160\"\r\n                                    image={item.image_url}\r\n                                    alt={item.course_title}\r\n                                />\r\n                                <Tooltip title=\"Remove from Wishlist\">\r\n                                    <IconButton \r\n                                        size=\"small\"\r\n                                        onClick={() => handleRemoveFromWishlist(item.wishlist_id)}\r\n                                        sx={{ \r\n                                            position: 'absolute', \r\n                                            top: 8, \r\n                                            right: 8, \r\n                                            bgcolor: 'rgba(255,255,255,0.9)', \r\n                                            color: '#d32f2f',\r\n                                            '&:hover': { bgcolor: 'white' }\r\n                                        }}\r\n                                    >\r\n                                        <DeleteOutline fontSize=\"small\" />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </Box>\r\n\r\n                            <CardContent sx={{ flexGrow: 1, p: 2 }}>\r\n                                <Typography variant=\"subtitle1\" fontWeight=\"bold\" sx={{ lineHeight: 1.3, mb: 1, minHeight: '2.6em', overflow: 'hidden' }}>\r\n                                    {item.course_title}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                                    By {item.instructor_name || \"Instructor\"}\r\n                                </Typography>\r\n                                <Box display=\"flex\" alignItems=\"baseline\" gap={1}>\r\n                                    <Typography variant=\"h6\" fontWeight=\"bold\" color=\"#a435f0\">\r\n                                        ₹{Math.round(item.discount_price || item.price)}\r\n                                    </Typography>\r\n                                    {item.discount_price && (\r\n                                        <Typography variant=\"caption\" sx={{ textDecoration: 'line-through', color: 'text.secondary' }}>\r\n                                            ₹{Math.round(item.price)}\r\n                                        </Typography>\r\n                                    )}\r\n                                </Box>\r\n                            </CardContent>\r\n\r\n                            <Button \r\n                                fullWidth \r\n                                variant=\"contained\"\r\n                                startIcon={<ShoppingCartOutlined />}\r\n                                onClick={() => handleMoveToCart(item)}\r\n                                sx={{ \r\n                                    bgcolor: 'white', \r\n                                    color: '#2d2f31', \r\n                                    borderTop: '1px solid #e0e0e0',\r\n                                    borderRadius: 0,\r\n                                    py: 1.5,\r\n                                    '&:hover': { bgcolor: '#f5f5f5' }\r\n                                }}\r\n                            >\r\n                                Move to Cart\r\n                            </Button>\r\n                        </Card>\r\n                    </Grid>\r\n                ))}\r\n            </Grid>\r\n        )}\r\n      </Container>\r\n\r\n      <Footer />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Wishlist;\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');"],"names":["Wishlist","updateWishlistCount","useWishlist","updateCartCount","useCart","wishlistItems","setWishlistItems","useState","loading","setLoading","auth","useAuth","useEffect","user","async","_auth$user","userId","user_id","token","response","axios","get","concat","headers","Authorization","Array","isArray","data","error","status","console","fetchWishlistItems","handleRemoveFromWishlist","_auth$user2","delete","wishlistItemId","updatedWishlistItems","filter","item","wishlist_id","res","wishlist_count","_jsxs","_Fragment","children","_jsx","Navbar","Container","sx","py","Grid","container","spacing","map","i","xs","sm","md","Skeleton","variant","height","borderRadius","mb","width","Footer","Box","bgcolor","minHeight","display","flexDirection","maxWidth","flexGrow","Typography","fontWeight","length","textAlign","boxShadow","fontSize","color","gutterBottom","Button","component","Link","to","border","lg","Card","transition","transform","position","CardMedia","image","image_url","alt","course_title","Tooltip","title","IconButton","size","onClick","top","right","DeleteOutline","CardContent","p","lineHeight","overflow","instructor_name","alignItems","gap","Math","round","discount_price","price","textDecoration","fullWidth","startIcon","ShoppingCartOutlined","_auth$user3","post","course_id","wishlistItem","count","handleMoveToCart","borderTop","createSvgIcon","d"],"sourceRoot":""}