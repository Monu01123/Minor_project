"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[368],{5368:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n(5043),o=n(9722),i=n(3216),s=n(6240),a=n(5442),c=n(7353),l=n(9252),d=n(8903),u=n(1596),h=n(4496),p=n(4665),f=n(1787),m=n(7392),x=n(2143),g=n(1906),v=n(1637),A=n(8446),y=n(9662),j=n(579);const b=(0,y.A)((0,j.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var w=n(8262),k=n(1007),S=n(3559),C=n(3632),P=n(5136),R=n(8994);const I=(0,y.A)((0,j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var E=n(4839),M=n(2190),z=n(4930),W=n(293),D=n(9379),L=n(9674),F=n(8676),B=n(1051);function H(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=H(t,e);return n||"function"!==typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():H(t[e],null)}}}}(...t),t)}class T extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=(0,F.s)(e)&&e.offsetWidth||0,r=(0,F.s)(e)&&e.offsetHeight||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=n-o.width-o.left,o.bottom=r-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function X(e){var t,n;let{children:o,isPresent:i,anchorX:s,anchorY:a,root:c}=e;const l=(0,r.useId)(),d=(0,r.useRef)(null),u=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=(0,r.useContext)(B.Q),p=null!==(t=null===(n=o.props)||void 0===n?void 0:n.ref)&&void 0!==t?t:null===o||void 0===o?void 0:o.ref,f=N(d,p);return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:r,right:o,bottom:p}=u.current;if(i||!d.current||!e||!t)return;const f="left"===s?"left: ".concat(r):"right: ".concat(o),m="bottom"===a?"bottom: ".concat(p):"top: ".concat(n);d.current.dataset.motionPopId=l;const x=document.createElement("style");h&&(x.nonce=h);const g=null!==c&&void 0!==c?c:document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(f,"px !important;\n            ").concat(m,"px !important;\n          }\n        ")),()=>{g.contains(x)&&g.removeChild(x)}}),[i]),(0,j.jsx)(T,{isPresent:i,childRef:d,sizeRef:u,children:r.cloneElement(o,{ref:f})})}const Y=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:c,anchorX:l,anchorY:d,root:u}=e;const h=(0,z.M)(V),p=(0,r.useId)();let f=!0,m=(0,r.useMemo)((()=>(f=!1,{id:p,initial:n,isPresent:o,custom:s,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))})),[o,h,i]);return a&&f&&(m=(0,D.A)({},m)),(0,r.useMemo)((()=>{h.forEach(((e,t)=>h.set(t,!1)))}),[o]),r.useEffect((()=>{!o&&!h.size&&i&&i()}),[o]),"popLayout"===c&&(t=(0,j.jsx)(X,{isPresent:o,anchorX:l,anchorY:d,root:u,children:t})),(0,j.jsx)(L.t.Provider,{value:m,children:t})};function V(){return new Map}var $=n(8917);const q=e=>e.key||"";function O(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}const U=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:c=!1,anchorX:l="left",anchorY:d="top",root:u}=e;const[h,p]=(0,$.xQ)(c),f=(0,r.useMemo)((()=>O(t)),[t]),m=c&&!h?[]:f.map(q),x=(0,r.useRef)(!0),g=(0,r.useRef)(f),v=(0,z.M)((()=>new Map)),A=(0,r.useRef)(new Set),[y,b]=(0,r.useState)(f),[w,k]=(0,r.useState)(f);(0,W.E)((()=>{x.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=q(w[e]);m.includes(t)?(v.delete(t),A.current.delete(t)):!0!==v.get(t)&&v.set(t,!1)}}),[w,m.length,m.join("-")]);const S=[];if(f!==y){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=q(n);m.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===a&&S.length&&(e=S),k(O(e)),b(f),null}const{forceRender:C}=(0,r.useContext)(M.L);return(0,j.jsx)(j.Fragment,{children:w.map((e=>{const t=q(e),r=!(c&&!h)&&(f===w||m.includes(t));return(0,j.jsx)(Y,{isPresent:r,initial:!(x.current&&!o)&&void 0,custom:n,presenceAffectsLayout:s,mode:a,root:u,onExitComplete:r?void 0:()=>{if(A.current.has(t))return;if(A.current.add(t),!v.has(t))return;v.set(t,!0);let e=!0;v.forEach((t=>{t||(e=!1)})),e&&(null===C||void 0===C||C(),k(g.current),c&&(null===p||void 0===p||p()),i&&i())},anchorX:l,anchorY:d,children:e},t)}))})};var Z=n(9304);const Q=()=>{const e=(0,i.Zp)(),t=(0,s.A)(),n=(0,a.A)(t.breakpoints.down("md")),[y,M]=(0,r.useState)(""),[z,W]=(0,r.useState)(""),[D,L]=(0,r.useState)(""),[F,B]=(0,r.useState)(!1),[H,N]=(0,r.useState)("student"),[T,X]=(0,r.useState)(""),[Y,V]=(0,r.useState)(""),[$,q]=(0,r.useState)(["","","","","",""]),[O,Q]=(0,r.useState)(1),[_,J]=(0,r.useState)(!1),[K,G]=(0,r.useState)(30),ee=(0,r.useRef)([]);(0,r.useEffect)((()=>{ee.current=Array(6).fill(null).map((()=>r.createRef()))}),[]);return(0,r.useEffect)((()=>{if(2===O&&K>0){const e=setInterval((()=>{G((e=>e-1))}),1e3);return()=>clearInterval(e)}}),[K,O]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Z.A,{}),(0,j.jsx)(c.A,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:(0,j.jsx)(l.A,{maxWidth:"lg",children:(0,j.jsxs)(d.Ay,{container:!0,component:u.A,elevation:6,sx:{borderRadius:4,overflow:"hidden"},children:[!n&&(0,j.jsx)(d.Ay,{item:!0,xs:12,md:6,sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:4,position:"relative"},children:(0,j.jsxs)(E.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[(0,j.jsx)(h.A,{variant:"h3",fontWeight:"bold",gutterBottom:!0,children:"Join Us Today!"}),(0,j.jsx)(h.A,{variant:"h6",align:"center",sx:{opacity:.9},children:'"The expert in anything was once a beginner. Start your learning journey now."'}),(0,j.jsx)(c.A,{mt:4,component:"img",src:"https://img.freepik.com/free-vector/sign-up-concept-illustration_114360-7885.jpg?w=740&t=st=1706699123~exp=1706699723~hmac=56456012356565",alt:"Register",sx:{width:"80%",borderRadius:2,boxShadow:3}})]})}),(0,j.jsx)(d.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",alignItems:"center",justifyContent:"center",p:4,bgcolor:"background.paper"},children:(0,j.jsx)(c.A,{maxWidth:"sm",width:"100%",children:(0,j.jsx)(U,{mode:"wait",children:1===O?(0,j.jsxs)(E.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},children:[(0,j.jsxs)(c.A,{sx:{mb:3,textAlign:"center"},children:[(0,j.jsx)(h.A,{variant:"h4",fontWeight:"700",color:"primary",gutterBottom:!0,children:"Create Account"}),(0,j.jsx)(h.A,{variant:"body2",color:"textSecondary",children:"Fill in your details to get started"})]}),(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),X(""),V(""),(e=>e.length>=6&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(e))(D)){J(!0);try{await o.A.post("http://localhost:8080/auth/register",{full_name:y,email:z,password:D,role:H}),Q(2),V("Registration successful! Email sent for verification.")}catch(r){var t,n;X((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"An error occurred during registration.")}finally{J(!1)}}else X("Password must be at least 6 characters long and include uppercase, lowercase, number, and special char.")},children:[(0,j.jsx)(p.A,{fullWidth:!0,label:"Full Name",variant:"outlined",margin:"normal",value:y,onChange:e=>M(e.target.value),required:!0,InputProps:{startAdornment:(0,j.jsx)(f.A,{position:"start",children:(0,j.jsx)(b,{color:"action"})})}}),(0,j.jsx)(p.A,{fullWidth:!0,label:"Email Address",type:"email",variant:"outlined",margin:"normal",value:z,onChange:e=>W(e.target.value),required:!0,InputProps:{startAdornment:(0,j.jsx)(f.A,{position:"start",children:(0,j.jsx)(w.A,{color:"action"})})}}),(0,j.jsx)(p.A,{fullWidth:!0,label:"Password",type:F?"text":"password",variant:"outlined",margin:"normal",value:D,onChange:e=>L(e.target.value),required:!0,InputProps:{startAdornment:(0,j.jsx)(f.A,{position:"start",children:(0,j.jsx)(k.A,{color:"action"})}),endAdornment:(0,j.jsx)(f.A,{position:"end",children:(0,j.jsx)(m.A,{onClick:()=>B(!F),edge:"end",children:F?(0,j.jsx)(S.A,{}):(0,j.jsx)(C.A,{})})})}}),(0,j.jsxs)(p.A,{select:!0,fullWidth:!0,label:"I want to be a",variant:"outlined",margin:"normal",value:H,onChange:e=>N(e.target.value),InputProps:{startAdornment:(0,j.jsx)(f.A,{position:"start",children:(0,j.jsx)(P.A,{color:"action"})})},children:[(0,j.jsx)(x.A,{value:"student",children:"Student"}),(0,j.jsx)(x.A,{value:"instructor",children:"Instructor"})]}),T&&(0,j.jsx)(h.A,{color:"error",variant:"body2",sx:{mt:1,mb:1},children:T}),(0,j.jsx)(g.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:_,endIcon:_?(0,j.jsx)(v.A,{size:20,color:"inherit"}):(0,j.jsx)(R.A,{}),sx:{mt:2,py:1.5,borderRadius:2,background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 14px 0 rgba(118, 75, 162, 0.39)","&:hover":{boxShadow:"0 6px 20px 0 rgba(118, 75, 162, 0.23)"}},children:_?"Registering...":"Register"}),(0,j.jsx)(c.A,{mt:3,textAlign:"center",children:(0,j.jsxs)(h.A,{variant:"body2",color:"textSecondary",children:["Already have an account?"," ",(0,j.jsx)(A.A,{component:"button",variant:"body2",onClick:t=>{t.preventDefault(),e("/login")},sx:{fontWeight:"bold",cursor:"pointer"},children:"Log In"})]})})]})]},"step1"):(0,j.jsxs)(E.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},children:[(0,j.jsxs)(c.A,{sx:{mb:4,textAlign:"center"},children:[(0,j.jsx)(I,{color:"success",sx:{fontSize:60,mb:2}}),(0,j.jsx)(h.A,{variant:"h4",fontWeight:"700",color:"primary",gutterBottom:!0,children:"Verify Email"}),(0,j.jsxs)(h.A,{variant:"body2",color:"textSecondary",children:["Enter the 6-digit code sent to ",z]})]}),(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),X(""),V("");const n=$.join("");J(!0);try{await o.A.post("http://localhost:8080/auth/verify-otp",{email:z,otp:n}),V("OTP verified successfully! Registration complete."),setTimeout((()=>e("/login")),1500)}catch(s){var r,i;X((null===(r=s.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Invalid OTP, please try again.")}finally{J(!1)}},children:[(0,j.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",gap:1,mb:3},children:$.map(((e,t)=>(0,j.jsx)(p.A,{inputRef:ee.current[t],value:e,onChange:e=>((e,t)=>{const n=e.target.value;if(n.match(/^[0-9]$/)){const e=[...$];e[t]=n,q(e),t<ee.current.length-1&&ee.current[t+1].current.focus()}else if(""===n){const e=[...$];e[t]="",q(e)}})(e,t),onKeyDown:e=>((e,t)=>{"Backspace"===e.key&&""===$[t]&&t>0&&ee.current[t-1].current.focus()})(e,t),variant:"outlined",inputProps:{maxLength:1,style:{textAlign:"center",fontSize:"1.5rem",padding:"10px",width:"20px"}}},t)))}),(0,j.jsx)(c.A,{textAlign:"center",mb:2,children:K>0?(0,j.jsxs)(h.A,{variant:"body2",color:"textSecondary",children:["Resend code in 00:",K<10?"0".concat(K):K]}):(0,j.jsx)(g.A,{onClick:()=>G(30),variant:"text",size:"small",children:"Resend Code"})}),T&&(0,j.jsx)(h.A,{color:"error",variant:"body2",align:"center",sx:{mb:2},children:T}),Y&&(0,j.jsx)(h.A,{color:"success.main",variant:"body2",align:"center",sx:{mb:2},children:Y}),(0,j.jsx)(g.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:_,sx:{py:1.5,borderRadius:2,background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)"},children:_?"Verifying...":"Verify & Login"})]})]},"step2")})})})]})})})]})}},8994:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(9662),o=n(579);const i=(0,r.A)((0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")},1637:(e,t,n)=>{n.d(t,{A:()=>z});var r=n(9379),o=n(45),i=n(7528),s=n(5043),a=n(8387),c=n(8610),l=n(3290),d=n(4535),u=n(6262),h=n(6431),p=n(6803),f=n(2445),m=n(2532),x=n(2372);function g(e){return(0,x.Ay)("MuiCircularProgress",e)}(0,m.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var v=n(579);const A=["className","color","disableShrink","size","style","thickness","value","variant"];var y,j,b,w;const k=44,S=(0,l.i7)(y||(y=(0,i.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),C=(0,l.i7)(j||(j=(0,i.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]))),P="string"!==typeof S?(0,l.AH)(b||(b=(0,i.A)(["\n        animation: "," 1.4s linear infinite;\n      "])),S):null,R="string"!==typeof C?(0,l.AH)(w||(w=(0,i.A)(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),C):null,I=(0,d.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,p.A)(n.color))]]}})((0,u.A)((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:P||{animation:"".concat(S," 1.4s linear infinite")}},...Object.entries(t.palette).filter((0,f.A)()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),E=(0,d.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),M=(0,d.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,p.A)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((0,u.A)((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:R||{animation:"".concat(C," 1.4s ease-in-out infinite")}}]}}))),z=s.forwardRef((function(e,t){const n=(0,h.b)({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:l=!1,size:d=40,style:u,thickness:f=3.6,value:m=0,variant:x="indeterminate"}=n,y=(0,o.A)(n,A),j=(0,r.A)((0,r.A)({},n),{},{color:s,disableShrink:l,size:d,thickness:f,value:m,variant:x}),b=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,"color".concat((0,p.A)(r))],svg:["svg"],circle:["circle","circle".concat((0,p.A)(n)),o&&"circleDisableShrink"]};return(0,c.A)(i,g,t)})(j),w={},S={},C={};if("determinate"===x){const e=2*Math.PI*((k-f)/2);w.strokeDasharray=e.toFixed(3),C["aria-valuenow"]=Math.round(m),w.strokeDashoffset="".concat(((100-m)/100*e).toFixed(3),"px"),S.transform="rotate(-90deg)"}return(0,v.jsx)(I,(0,r.A)((0,r.A)((0,r.A)({className:(0,a.A)(b.root,i),style:(0,r.A)((0,r.A)({width:d,height:d},S),u),ownerState:j,ref:t,role:"progressbar"},C),y),{},{children:(0,v.jsx)(E,{className:b.svg,ownerState:j,viewBox:"".concat(22," ").concat(22," ").concat(k," ").concat(k),children:(0,v.jsx)(M,{className:b.circle,style:w,ownerState:j,cx:k,cy:k,r:(k-f)/2,fill:"none",strokeWidth:f})})}))}))}}]);
//# sourceMappingURL=368.72a5979f.chunk.js.map