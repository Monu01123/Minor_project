"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[310],{9310:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(5043),n=(a(4856),a(4204)),c=a(9304),s=a(579);const o=()=>{const[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[d,u]=(0,r.useState)(null);(0,r.useEffect)((()=>{h()}),[]);const h=async()=>{try{const e=await n.A.get("/categories");t(e.data)}catch(e){console.error("Error fetching categories:",e)}},g=()=>{o(""),l(""),u(null)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{}),(0,s.jsxs)("div",{className:"category-management",children:[(0,s.jsx)("h2",{children:"Category Management"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={name:a,description:i};try{var r;const e=null===(r=JSON.parse(localStorage.getItem("auth")))||void 0===r?void 0:r.token,a={Authorization:"Bearer ".concat(e)};d?await n.A.put("/categories/".concat(d),t,{headers:a}):await n.A.post("/categories",t,{headers:a}),h(),g()}catch(c){console.error("Error saving category:",c)}},children:[(0,s.jsx)("input",{type:"text",placeholder:"Category Name",value:a,onChange:e=>o(e.target.value),required:!0}),(0,s.jsx)("textarea",{placeholder:"Description",value:i,onChange:e=>l(e.target.value),required:!0}),(0,s.jsx)("button",{type:"submit",children:d?"Update Category":"Add Category"})]}),(0,s.jsx)("h3",{children:"Categories List"}),(0,s.jsx)("ul",{children:e.map((e=>(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)("span",{children:e.description}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>(e=>{o(e.name),l(e.description),u(e.category_id)})(e),children:"Edit"}),(0,s.jsx)("button",{onClick:()=>(async e=>{try{await n.A.delete("/categories/".concat(e)),h()}catch(t){console.error("Error deleting category:",t)}})(e.category_id),children:"Delete"})]})]},e.category_id)))})]})]})}},4856:()=>{}}]);
//# sourceMappingURL=310.42b7dc29.chunk.js.map