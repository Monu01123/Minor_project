{"version":3,"file":"static/js/310.42b7dc29.chunk.js","mappings":"kLAKA,MAmHA,EAnH2BA,KACzB,MAAOC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,KACtCC,EAAMC,IAAWF,EAAAA,EAAAA,UAAS,KAC1BG,EAAaC,IAAkBJ,EAAAA,EAAAA,UAAS,KACxCK,EAAQC,IAAaN,EAAAA,EAAAA,UAAS,OAErCO,EAAAA,EAAAA,YAAU,KACRC,GAAiB,GAChB,IAEH,MAAMA,EAAkBC,UACtB,IACE,MAAMC,QAAiBC,EAAAA,EAAcC,IAAI,eACzCb,EAAcW,EAASG,KACzB,CAAE,MAAOC,GACPC,QAAQD,MAAM,6BAA8BA,EAC9C,GA6CIE,EAAYA,KAChBd,EAAQ,IACRE,EAAe,IACfE,EAAU,KAAK,EAGjB,OACEW,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACAC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACLJ,EAAAA,EAAAA,MAAA,OAAKK,UAAU,sBAAqBH,SAAA,EAClCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yBACJF,EAAAA,EAAAA,MAAA,QAAMM,SArDsBd,UAChCe,EAAEC,iBACF,MAAMC,EAAe,CAAEzB,OAAME,eAE7B,IAAK,IAADwB,EAEA,MAAMC,EAAgD,QAA3CD,EAAGE,KAAKC,MAAMC,aAAaC,QAAQ,gBAAQ,IAAAL,OAAA,EAAxCA,EAA0CC,MAGlDK,EAAU,CACZC,cAAc,UAADC,OAAYP,IAGzBvB,QACMM,EAAAA,EAAcyB,IAAI,eAADD,OAAgB9B,GAAUqB,EAAc,CAAEO,kBAE3DtB,EAAAA,EAAc0B,KAAK,cAAeX,EAAc,CAAEO,YAG5DzB,IACAQ,GACJ,CAAE,MAAOF,GACLC,QAAQD,MAAM,yBAA0BA,EAC5C,GA8B8CK,SAAA,EACxCC,EAAAA,EAAAA,KAAA,SACEkB,KAAK,OACLC,YAAY,gBACZC,MAAOvC,EACPwC,SAAWjB,GAAMtB,EAAQsB,EAAEkB,OAAOF,OAClCG,UAAQ,KAEVvB,EAAAA,EAAAA,KAAA,YACEmB,YAAY,cACZC,MAAOrC,EACPsC,SAAWjB,GAAMpB,EAAeoB,EAAEkB,OAAOF,OACzCG,UAAQ,KAEVvB,EAAAA,EAAAA,KAAA,UAAQkB,KAAK,SAAQnB,SAClBd,EAAS,kBAAoB,qBAIlCe,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACJC,EAAAA,EAAAA,KAAA,MAAAD,SACGrB,EAAW8C,KAAKC,IACf5B,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAAD,SAAO0B,EAAS5C,QAChBmB,EAAAA,EAAAA,KAAA,QAAAD,SAAO0B,EAAS1C,eAChBc,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,UAAQ0B,QAASA,IApDHD,KAC1B3C,EAAQ2C,EAAS5C,MACjBG,EAAeyC,EAAS1C,aACxBG,EAAUuC,EAASE,YAAY,EAiDIC,CAAmBH,GAAU1B,SAAC,UAGrDC,EAAAA,EAAAA,KAAA,UACE0B,QAASA,IAlDIrC,WAC3B,UACQE,EAAAA,EAAcsC,OAAO,eAADd,OAAgBe,IAC1C1C,GACF,CAAE,MAAOM,GACPC,QAAQD,MAAM,2BAA4BA,EAC5C,GA4C6BqC,CAAqBN,EAASE,aAAa5B,SAC3D,gBATI0B,EAASE,sBAiBvB,C","sources":["components/admin/CategoryManagement.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../instructor/dashboard.css\";\r\nimport axiosInstance from \"../../axiosconfig\";\r\nimport Navbar from \"../Home/NavBar\";\r\n\r\nconst CategoryManagement = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [editId, setEditId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await axiosInstance.get(\"/categories\");\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n  };\r\n\r\n  const handleAddOrUpdateCategory = async (e) => {\r\n    e.preventDefault();\r\n    const categoryData = { name, description };\r\n\r\n    try {\r\n        // Fetch the token from localStorage (if not already done in the axios instance config)\r\n        const token = JSON.parse(localStorage.getItem(\"auth\"))?.token;\r\n        \r\n        // Include Authorization header with Bearer token\r\n        const headers = {\r\n            Authorization: `Bearer ${token}`,\r\n        };\r\n\r\n        if (editId) {\r\n            await axiosInstance.put(`/categories/${editId}`, categoryData, { headers });\r\n        } else {\r\n            await axiosInstance.post(\"/categories\", categoryData, { headers });\r\n        }\r\n\r\n        fetchCategories();\r\n        resetForm();\r\n    } catch (error) {\r\n        console.error(\"Error saving category:\", error);\r\n    }\r\n};\r\n\r\n\r\n  const handleEditCategory = (category) => {\r\n    setName(category.name);\r\n    setDescription(category.description);\r\n    setEditId(category.category_id);\r\n  };\r\n\r\n  const handleDeleteCategory = async (id) => {\r\n    try {\r\n      await axiosInstance.delete(`/categories/${id}`);\r\n      fetchCategories();\r\n    } catch (error) {\r\n      console.error(\"Error deleting category:\", error);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setName(\"\");\r\n    setDescription(\"\");\r\n    setEditId(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Navbar />\r\n      <div className=\"category-management\">\r\n        <h2>Category Management</h2>\r\n        <form onSubmit={handleAddOrUpdateCategory}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Category Name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n          />\r\n          <textarea\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            required\r\n          />\r\n          <button type=\"submit\">\r\n            {editId ? \"Update Category\" : \"Add Category\"}\r\n          </button>\r\n        </form>\r\n\r\n        <h3>Categories List</h3>\r\n        <ul>\r\n          {categories.map((category) => (\r\n            <li key={category.category_id}>\r\n              <span>{category.name}</span>\r\n              <span>{category.description}</span>\r\n              <div>\r\n                <button onClick={() => handleEditCategory(category)}>\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDeleteCategory(category.category_id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategoryManagement;\r\n"],"names":["CategoryManagement","categories","setCategories","useState","name","setName","description","setDescription","editId","setEditId","useEffect","fetchCategories","async","response","axiosInstance","get","data","error","console","resetForm","_jsxs","_Fragment","children","_jsx","Navbar","className","onSubmit","e","preventDefault","categoryData","_JSON$parse","token","JSON","parse","localStorage","getItem","headers","Authorization","concat","put","post","type","placeholder","value","onChange","target","required","map","category","onClick","category_id","handleEditCategory","delete","id","handleDeleteCategory"],"sourceRoot":""}